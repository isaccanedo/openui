import{r as t,u as Ue,j as l,L as Ot,l as j,_ as y,m as We,n as Ge,o as Pe,p as Vt,q as De,s as k,v as Lt,w as N,x as te,y as Bt,z as qe,A as Ht,B as Kt,C as Ft,D as zt,E as Ut,F as Wt,G as Gt,H as qt,O as Yt}from"./vendor-BGjp6CLF.js";import{c as Ye,u as Xe,h as ge,a as Xt,D as Zt,b as Qt,B as Q,d as Jt,e as eo,f as ke,g as Ze,i as Qe,j as Je,k as et,l as tt,m as Ie,G as ot,n as to,o as oo,$ as nt,p as rt,q as no,r as ro,s as ao,t as so,C as co,v as me,w as lo,T as io,x as uo,y as fo,z as po,A as mo,E as ho,F as go,P as vo,H as xo,I as $o}from"./textarea-DxZAod9N.js";import{c as A,u as bo,E as wo,L as So,M as yo}from"./index-6BqEBdFF.js";function Co({title:e}){return t.useEffect(()=>{document.title=e},[e]),null}/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=Ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Ye("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function st({id:e,label:n,active:o=!1,collapsed:r=!1}){const a=Xe(ge({id:e})),c=Ue(),i=Xt(Ze);return l.jsxs(l.Fragment,{children:[!!n&&l.jsx("div",{className:"mb-2 w-full text-xs",children:l.jsx("h3",{children:n})}),l.jsxs("div",{className:`${o&&"bg-secondary"} group relative mb-2 w-full rounded-md p-2 text-sm hover:bg-secondary`,children:[l.jsx(Ot,{to:`/ai/${e}`,className:"flex items-center active:text-black",children:l.jsxs("div",{className:"relative grow overflow-hidden whitespace-nowrap",children:[`${a.emoji??"ðŸ¤”"} `,a.name??a.prompt,l.jsx("div",{className:A("absolute bottom-0 right-0 top-0 w-8 bg-gradient-to-l from-zinc-300 from-0% to-transparent group-hover:right-5 group-hover:from-secondary dark:from-zinc-900",{"from-secondary":o,"dark:from-secondary":o})})]})}),l.jsx("div",{className:"absolute bottom-0 right-0 top-0 flex items-center bg-secondary pr-2 opacity-0 group-hover:opacity-100",children:l.jsxs(Zt,{modal:!1,children:[l.jsx(Qt,{asChild:!0,children:l.jsx(Q,{className:"h-5 w-5 text-sm hover:ring-transparent focus-visible:ring-0",variant:"ghost",size:"icon",children:l.jsx(Jt,{className:"inline-block h-4 w-4"})})}),l.jsxs(eo,{children:[l.jsx(ke,{children:"Copy"}),l.jsx(ke,{onClick:()=>{i(s=>s.filter(d=>d!==e)),ge.remove({id:e}),localStorage.removeItem(`${e}.html`),localStorage.removeItem(`${e}.md`),c("/ai/new")},children:"Delete"})]})]})}),l.jsx(Q,{onClick:()=>c(`/ai/${e}`),className:A("absolute -right-[58px] top-0 z-50 ml-auto inline-flex h-8 w-8 p-2 hover:scale-110 hover:bg-inherit",r&&"ml-10",o&&"bg-zinc-900"),variant:"ghost",size:"icon",children:a.emoji??"ðŸ¤”"})]})]})}st.defaultProps={label:void 0};/*! js-cookie v3.0.5 | MIT */function fe(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var r in o)e[r]=o[r]}return e}var Po={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function _e(e,n){function o(a,c,i){if(!(typeof document>"u")){i=fe({},n,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),a=encodeURIComponent(a).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var d in i)i[d]&&(s+="; "+d,i[d]!==!0&&(s+="="+i[d].split(";")[0]));return document.cookie=a+"="+e.write(c,a)+s}}function r(a){if(!(typeof document>"u"||arguments.length&&!a)){for(var c=document.cookie?document.cookie.split("; "):[],i={},s=0;s<c.length;s++){var d=c[s].split("="),f=d.slice(1).join("=");try{var p=decodeURIComponent(d[0]);if(i[p]=e.read(f,p),a===p)break}catch{}}return a?i[a]:i}}return Object.create({set:o,get:r,remove:function(a,c){o(a,"",fe({},c,{expires:-1}))},withAttributes:function(a){return _e(this.converter,fe({},this.attributes,a))},withConverter:function(a){return _e(fe({},this.converter,a),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}var Oe=_e(Po,{path:"/"});function Io(){const[e,n]=t.useState(),[o,r]=t.useState(!1);return t.useEffect(()=>{const c=async()=>{const s=await to();r(s===void 0)},i=Oe.get("error");i&&(n(i),Oe.remove("error")),c().catch(s=>console.error(s))},[]),l.jsx(Qe,{open:o,onOpenChange:c=>{console.log(c)},children:l.jsxs(Je,{noClose:!0,className:"sm:max-w-[425px]",children:[l.jsxs(et,{children:[l.jsx(tt,{children:"Login"}),e?l.jsx(Ie,{className:"mb-2 text-red-500 dark:text-red-400",children:e}):l.jsx(Ie,{children:"To enforce usage quotas an account is required."})]}),l.jsx("div",{className:"items-center",children:l.jsx(Q,{asChild:!0,children:l.jsxs("a",{href:"/v1/login",children:[l.jsx(ot,{className:"mr-2"})," Login with GitHub"]})})})]})})}async function _o(){try{return(await(await fetch("/v1/ollama/tags")).json()).models}catch(e){return console.error(e),[]}}const Ro=t.forwardRef((e,n)=>t.createElement(j.label,y({},e,{ref:n,onMouseDown:o=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault()}}))),ct=Ro,To=oo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),he=t.forwardRef(({className:e,...n},o)=>l.jsx(ct,{ref:o,className:A(To(),e),...n}));he.displayName=ct.displayName;function ve(e,[n,o]){return Math.min(o,Math.max(n,e))}function lt(e){const n=t.useRef({value:e,previous:e});return t.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}const No=[" ","Enter","ArrowUp","ArrowDown"],Do=[" ","Enter"],xe="Select",[$e,be,jo]=nt(xe),[le,Yn]=We(xe,[jo,Ge]),je=Ge(),[Mo,oe]=le(xe),[Ao,ko]=le(xe),Oo=e=>{const{__scopeSelect:n,children:o,open:r,defaultOpen:a,onOpenChange:c,value:i,defaultValue:s,onValueChange:d,dir:f,name:p,autoComplete:u,disabled:x,required:w}=e,m=je(n),[v,S]=t.useState(null),[$,h]=t.useState(null),[g,M]=t.useState(!1),D=rt(f),[J=!1,E]=Pe({prop:r,defaultProp:a,onChange:c}),[V,G]=Pe({prop:i,defaultProp:s,onChange:d}),ee=t.useRef(null),X=v?!!v.closest("form"):!0,[K,L]=t.useState(new Set),P=Array.from(K).map(C=>C.props.value).join(";");return t.createElement(Vt,m,t.createElement(Mo,{required:w,scope:n,trigger:v,onTriggerChange:S,valueNode:$,onValueNodeChange:h,valueNodeHasChildren:g,onValueNodeHasChildrenChange:M,contentId:De(),value:V,onValueChange:G,open:J,onOpenChange:E,dir:D,triggerPointerDownPosRef:ee,disabled:x},t.createElement($e.Provider,{scope:n},t.createElement(Ao,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback(C=>{L(O=>new Set(O).add(C))},[]),onNativeOptionRemove:t.useCallback(C=>{L(O=>{const F=new Set(O);return F.delete(C),F})},[])},o)),X?t.createElement(pt,{key:P,"aria-hidden":!0,required:w,tabIndex:-1,name:p,autoComplete:u,value:V,onChange:C=>G(C.target.value),disabled:x},V===void 0?t.createElement("option",{value:""}):null,Array.from(K)):null))},Vo="SelectTrigger",Lo=t.forwardRef((e,n)=>{const{__scopeSelect:o,disabled:r=!1,...a}=e,c=je(o),i=oe(Vo,o),s=i.disabled||r,d=k(n,i.onTriggerChange),f=be(o),[p,u,x]=mt(m=>{const v=f().filter(h=>!h.disabled),S=v.find(h=>h.value===i.value),$=ht(v,m,S);$!==void 0&&i.onValueChange($.value)}),w=()=>{s||(i.onOpenChange(!0),x())};return t.createElement(Lt,y({asChild:!0},c),t.createElement(j.button,y({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":ft(i.value)?"":void 0},a,{ref:d,onClick:N(a.onClick,m=>{m.currentTarget.focus()}),onPointerDown:N(a.onPointerDown,m=>{const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&(w(),i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)},m.preventDefault())}),onKeyDown:N(a.onKeyDown,m=>{const v=p.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&u(m.key),!(v&&m.key===" ")&&No.includes(m.key)&&(w(),m.preventDefault())})})))}),Bo="SelectValue",Ho=t.forwardRef((e,n)=>{const{__scopeSelect:o,className:r,style:a,children:c,placeholder:i="",...s}=e,d=oe(Bo,o),{onValueNodeHasChildrenChange:f}=d,p=c!==void 0,u=k(n,d.onValueNodeChange);return te(()=>{f(p)},[f,p]),t.createElement(j.span,y({},s,{ref:u,style:{pointerEvents:"none"}}),ft(d.value)?t.createElement(t.Fragment,null,i):c)}),Ko=t.forwardRef((e,n)=>{const{__scopeSelect:o,children:r,...a}=e;return t.createElement(j.span,y({"aria-hidden":!0},a,{ref:n}),r||"â–¼")}),Fo=e=>t.createElement(Bt,y({asChild:!0},e)),ce="SelectContent",zo=t.forwardRef((e,n)=>{const o=oe(ce,e.__scopeSelect),[r,a]=t.useState();if(te(()=>{a(new DocumentFragment)},[]),!o.open){const c=r;return c?qe.createPortal(t.createElement(it,{scope:e.__scopeSelect},t.createElement($e.Slot,{scope:e.__scopeSelect},t.createElement("div",null,e.children))),c):null}return t.createElement(Uo,y({},e,{ref:n}))}),Z=10,[it,ne]=le(ce),Uo=t.forwardRef((e,n)=>{const{__scopeSelect:o,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:c,onPointerDownOutside:i,side:s,sideOffset:d,align:f,alignOffset:p,arrowPadding:u,collisionBoundary:x,collisionPadding:w,sticky:m,hideWhenDetached:v,avoidCollisions:S,...$}=e,h=oe(ce,o),[g,M]=t.useState(null),[D,J]=t.useState(null),E=k(n,b=>M(b)),[V,G]=t.useState(null),[ee,X]=t.useState(null),K=be(o),[L,P]=t.useState(!1),C=t.useRef(!1);t.useEffect(()=>{if(g)return no(g)},[g]),ro();const O=t.useCallback(b=>{const[R,...H]=K().map(_=>_.ref.current),[T]=H.slice(-1),I=document.activeElement;for(const _ of b)if(_===I||(_==null||_.scrollIntoView({block:"nearest"}),_===R&&D&&(D.scrollTop=0),_===T&&D&&(D.scrollTop=D.scrollHeight),_==null||_.focus(),document.activeElement!==I))return},[K,D]),F=t.useCallback(()=>O([V,g]),[O,V,g]);t.useEffect(()=>{L&&F()},[L,F]);const{onOpenChange:q,triggerPointerDownPosRef:B}=h;t.useEffect(()=>{if(g){let b={x:0,y:0};const R=T=>{var I,_,U,W;b={x:Math.abs(Math.round(T.pageX)-((I=(_=B.current)===null||_===void 0?void 0:_.x)!==null&&I!==void 0?I:0)),y:Math.abs(Math.round(T.pageY)-((U=(W=B.current)===null||W===void 0?void 0:W.y)!==null&&U!==void 0?U:0))}},H=T=>{b.x<=10&&b.y<=10?T.preventDefault():g.contains(T.target)||q(!1),document.removeEventListener("pointermove",R),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",R),document.addEventListener("pointerup",H,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",R),document.removeEventListener("pointerup",H,{capture:!0})}}},[g,q,B]),t.useEffect(()=>{const b=()=>q(!1);return window.addEventListener("blur",b),window.addEventListener("resize",b),()=>{window.removeEventListener("blur",b),window.removeEventListener("resize",b)}},[q]);const[Y,z]=mt(b=>{const R=K().filter(I=>!I.disabled),H=R.find(I=>I.ref.current===document.activeElement),T=ht(R,b,H);T&&setTimeout(()=>T.ref.current.focus())}),re=t.useCallback((b,R,H)=>{const T=!C.current&&!H;(h.value!==void 0&&h.value===R||T)&&(G(b),T&&(C.current=!0))},[h.value]),Se=t.useCallback(()=>g==null?void 0:g.focus(),[g]),ae=t.useCallback((b,R,H)=>{const T=!C.current&&!H;(h.value!==void 0&&h.value===R||T)&&X(b)},[h.value]),ue=r==="popper"?Ve:Wo,ie=ue===Ve?{side:s,sideOffset:d,align:f,alignOffset:p,arrowPadding:u,collisionBoundary:x,collisionPadding:w,sticky:m,hideWhenDetached:v,avoidCollisions:S}:{};return t.createElement(it,{scope:o,content:g,viewport:D,onViewportChange:J,itemRefCallback:re,selectedItem:V,onItemLeave:Se,itemTextRefCallback:ae,focusSelectedItem:F,selectedItemText:ee,position:r,isPositioned:L,searchRef:Y},t.createElement(ao,{as:Ht,allowPinchZoom:!0},t.createElement(so,{asChild:!0,trapped:h.open,onMountAutoFocus:b=>{b.preventDefault()},onUnmountAutoFocus:N(a,b=>{var R;(R=h.trigger)===null||R===void 0||R.focus({preventScroll:!0}),b.preventDefault()})},t.createElement(Kt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:i,onFocusOutside:b=>b.preventDefault(),onDismiss:()=>h.onOpenChange(!1)},t.createElement(ue,y({role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:b=>b.preventDefault()},$,ie,{onPlaced:()=>P(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...$.style},onKeyDown:N($.onKeyDown,b=>{const R=b.ctrlKey||b.altKey||b.metaKey;if(b.key==="Tab"&&b.preventDefault(),!R&&b.key.length===1&&z(b.key),["ArrowUp","ArrowDown","Home","End"].includes(b.key)){let T=K().filter(I=>!I.disabled).map(I=>I.ref.current);if(["ArrowUp","End"].includes(b.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(b.key)){const I=b.target,_=T.indexOf(I);T=T.slice(_+1)}setTimeout(()=>O(T)),b.preventDefault()}})}))))))}),Wo=t.forwardRef((e,n)=>{const{__scopeSelect:o,onPlaced:r,...a}=e,c=oe(ce,o),i=ne(ce,o),[s,d]=t.useState(null),[f,p]=t.useState(null),u=k(n,E=>p(E)),x=be(o),w=t.useRef(!1),m=t.useRef(!0),{viewport:v,selectedItem:S,selectedItemText:$,focusSelectedItem:h}=i,g=t.useCallback(()=>{if(c.trigger&&c.valueNode&&s&&f&&v&&S&&$){const E=c.trigger.getBoundingClientRect(),V=f.getBoundingClientRect(),G=c.valueNode.getBoundingClientRect(),ee=$.getBoundingClientRect();if(c.dir!=="rtl"){const I=ee.left-V.left,_=G.left-I,U=E.left-_,W=E.width+U,ye=Math.max(W,V.width),Ce=window.innerWidth-Z,Ee=ve(_,[Z,Ce-ye]);s.style.minWidth=W+"px",s.style.left=Ee+"px"}else{const I=V.right-ee.right,_=window.innerWidth-G.right-I,U=window.innerWidth-E.right-_,W=E.width+U,ye=Math.max(W,V.width),Ce=window.innerWidth-Z,Ee=ve(_,[Z,Ce-ye]);s.style.minWidth=W+"px",s.style.right=Ee+"px"}const X=x(),K=window.innerHeight-Z*2,L=v.scrollHeight,P=window.getComputedStyle(f),C=parseInt(P.borderTopWidth,10),O=parseInt(P.paddingTop,10),F=parseInt(P.borderBottomWidth,10),q=parseInt(P.paddingBottom,10),B=C+O+L+q+F,Y=Math.min(S.offsetHeight*5,B),z=window.getComputedStyle(v),re=parseInt(z.paddingTop,10),Se=parseInt(z.paddingBottom,10),ae=E.top+E.height/2-Z,ue=K-ae,ie=S.offsetHeight/2,b=S.offsetTop+ie,R=C+O+b,H=B-R;if(R<=ae){const I=S===X[X.length-1].ref.current;s.style.bottom="0px";const _=f.clientHeight-v.offsetTop-v.offsetHeight,U=Math.max(ue,ie+(I?Se:0)+_+F),W=R+U;s.style.height=W+"px"}else{const I=S===X[0].ref.current;s.style.top="0px";const U=Math.max(ae,C+v.offsetTop+(I?re:0)+ie)+H;s.style.height=U+"px",v.scrollTop=R-ae+v.offsetTop}s.style.margin=`${Z}px 0`,s.style.minHeight=Y+"px",s.style.maxHeight=K+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[x,c.trigger,c.valueNode,s,f,v,S,$,c.dir,r]);te(()=>g(),[g]);const[M,D]=t.useState();te(()=>{f&&D(window.getComputedStyle(f).zIndex)},[f]);const J=t.useCallback(E=>{E&&m.current===!0&&(g(),h==null||h(),m.current=!1)},[g,h]);return t.createElement(Go,{scope:o,contentWrapper:s,shouldExpandOnScrollRef:w,onScrollButtonChange:J},t.createElement("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M}},t.createElement(j.div,y({},a,{ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}}))))}),Ve=t.forwardRef((e,n)=>{const{__scopeSelect:o,align:r="start",collisionPadding:a=Z,...c}=e,i=je(o);return t.createElement(Ut,y({},i,c,{ref:n,align:r,collisionPadding:a,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[Go,Me]=le(ce,{}),Le="SelectViewport",qo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=ne(Le,o),c=Me(Le,o),i=k(n,a.onViewportChange),s=t.useRef(0);return t.createElement(t.Fragment,null,t.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),t.createElement($e.Slot,{scope:o},t.createElement(j.div,y({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:N(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:u}=c;if(u!=null&&u.current&&p){const x=Math.abs(s.current-f.scrollTop);if(x>0){const w=window.innerHeight-Z*2,m=parseFloat(p.style.minHeight),v=parseFloat(p.style.height),S=Math.max(m,v);if(S<w){const $=S+x,h=Math.min(w,$),g=$-h;p.style.height=h+"px",p.style.bottom==="0px"&&(f.scrollTop=g>0?g:0,p.style.justifyContent="flex-end")}}}s.current=f.scrollTop})}))))}),Yo="SelectGroup",[Xo,Zo]=le(Yo),Qo=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=De();return t.createElement(Xo,{scope:o,id:a},t.createElement(j.div,y({role:"group","aria-labelledby":a},r,{ref:n})))}),Jo="SelectLabel",en=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e,a=Zo(Jo,o);return t.createElement(j.div,y({id:a.id},r,{ref:n}))}),Re="SelectItem",[tn,dt]=le(Re),on=t.forwardRef((e,n)=>{const{__scopeSelect:o,value:r,disabled:a=!1,textValue:c,...i}=e,s=oe(Re,o),d=ne(Re,o),f=s.value===r,[p,u]=t.useState(c??""),[x,w]=t.useState(!1),m=k(n,$=>{var h;return(h=d.itemRefCallback)===null||h===void 0?void 0:h.call(d,$,r,a)}),v=De(),S=()=>{a||(s.onValueChange(r),s.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.createElement(tn,{scope:o,value:r,disabled:a,textId:v,isSelected:f,onItemTextChange:t.useCallback($=>{u(h=>{var g;return h||((g=$==null?void 0:$.textContent)!==null&&g!==void 0?g:"").trim()})},[])},t.createElement($e.ItemSlot,{scope:o,value:r,disabled:a,textValue:p},t.createElement(j.div,y({role:"option","aria-labelledby":v,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1},i,{ref:m,onFocus:N(i.onFocus,()=>w(!0)),onBlur:N(i.onBlur,()=>w(!1)),onPointerUp:N(i.onPointerUp,S),onPointerMove:N(i.onPointerMove,$=>{if(a){var h;(h=d.onItemLeave)===null||h===void 0||h.call(d)}else $.currentTarget.focus({preventScroll:!0})}),onPointerLeave:N(i.onPointerLeave,$=>{if($.currentTarget===document.activeElement){var h;(h=d.onItemLeave)===null||h===void 0||h.call(d)}}),onKeyDown:N(i.onKeyDown,$=>{var h;((h=d.searchRef)===null||h===void 0?void 0:h.current)!==""&&$.key===" "||(Do.includes($.key)&&S(),$.key===" "&&$.preventDefault())})}))))}),pe="SelectItemText",nn=t.forwardRef((e,n)=>{const{__scopeSelect:o,className:r,style:a,...c}=e,i=oe(pe,o),s=ne(pe,o),d=dt(pe,o),f=ko(pe,o),[p,u]=t.useState(null),x=k(n,$=>u($),d.onItemTextChange,$=>{var h;return(h=s.itemTextRefCallback)===null||h===void 0?void 0:h.call(s,$,d.value,d.disabled)}),w=p==null?void 0:p.textContent,m=t.useMemo(()=>t.createElement("option",{key:d.value,value:d.value,disabled:d.disabled},w),[d.disabled,d.value,w]),{onNativeOptionAdd:v,onNativeOptionRemove:S}=f;return te(()=>(v(m),()=>S(m)),[v,S,m]),t.createElement(t.Fragment,null,t.createElement(j.span,y({id:d.textId},c,{ref:x})),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?qe.createPortal(c.children,i.valueNode):null)}),rn="SelectItemIndicator",an=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e;return dt(rn,o).isSelected?t.createElement(j.span,y({"aria-hidden":!0},r,{ref:n})):null}),Be="SelectScrollUpButton",sn=t.forwardRef((e,n)=>{const o=ne(Be,e.__scopeSelect),r=Me(Be,e.__scopeSelect),[a,c]=t.useState(!1),i=k(n,r.onScrollButtonChange);return te(()=>{if(o.viewport&&o.isPositioned){let d=function(){const f=s.scrollTop>0;c(f)};const s=o.viewport;return d(),s.addEventListener("scroll",d),()=>s.removeEventListener("scroll",d)}},[o.viewport,o.isPositioned]),a?t.createElement(ut,y({},e,{ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:d}=o;s&&d&&(s.scrollTop=s.scrollTop-d.offsetHeight)}})):null}),He="SelectScrollDownButton",cn=t.forwardRef((e,n)=>{const o=ne(He,e.__scopeSelect),r=Me(He,e.__scopeSelect),[a,c]=t.useState(!1),i=k(n,r.onScrollButtonChange);return te(()=>{if(o.viewport&&o.isPositioned){let d=function(){const f=s.scrollHeight-s.clientHeight,p=Math.ceil(s.scrollTop)<f;c(p)};const s=o.viewport;return d(),s.addEventListener("scroll",d),()=>s.removeEventListener("scroll",d)}},[o.viewport,o.isPositioned]),a?t.createElement(ut,y({},e,{ref:i,onAutoScroll:()=>{const{viewport:s,selectedItem:d}=o;s&&d&&(s.scrollTop=s.scrollTop+d.offsetHeight)}})):null}),ut=t.forwardRef((e,n)=>{const{__scopeSelect:o,onAutoScroll:r,...a}=e,c=ne("SelectScrollButton",o),i=t.useRef(null),s=be(o),d=t.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return t.useEffect(()=>()=>d(),[d]),te(()=>{var f;const p=s().find(u=>u.ref.current===document.activeElement);p==null||(f=p.ref.current)===null||f===void 0||f.scrollIntoView({block:"nearest"})},[s]),t.createElement(j.div,y({"aria-hidden":!0},a,{ref:n,style:{flexShrink:0,...a.style},onPointerDown:N(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:N(a.onPointerMove,()=>{var f;(f=c.onItemLeave)===null||f===void 0||f.call(c),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:N(a.onPointerLeave,()=>{d()})}))}),ln=t.forwardRef((e,n)=>{const{__scopeSelect:o,...r}=e;return t.createElement(j.div,y({"aria-hidden":!0},r,{ref:n}))});function ft(e){return e===""||e===void 0}const pt=t.forwardRef((e,n)=>{const{value:o,...r}=e,a=t.useRef(null),c=k(n,a),i=lt(o);return t.useEffect(()=>{const s=a.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==o&&p){const u=new Event("change",{bubbles:!0});p.call(s,o),s.dispatchEvent(u)}},[i,o]),t.createElement(Ft,{asChild:!0},t.createElement("select",y({},r,{ref:c,defaultValue:o})))});pt.displayName="BubbleSelect";function mt(e){const n=zt(e),o=t.useRef(""),r=t.useRef(0),a=t.useCallback(i=>{const s=o.current+i;n(s),function d(f){o.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(s)},[n]),c=t.useCallback(()=>{o.current="",window.clearTimeout(r.current)},[]);return t.useEffect(()=>()=>window.clearTimeout(r.current),[]),[o,a,c]}function ht(e,n,o){const a=n.length>1&&Array.from(n).every(f=>f===n[0])?n[0]:n,c=o?e.indexOf(o):-1;let i=dn(e,Math.max(c,0));a.length===1&&(i=i.filter(f=>f!==o));const d=i.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==o?d:void 0}function dn(e,n){return e.map((o,r)=>e[(n+r)%e.length])}const un=Oo,gt=Lo,fn=Ho,pn=Ko,mn=Fo,vt=zo,hn=qo,gn=Qo,xt=en,$t=on,vn=nn,xn=an,bt=sn,wt=cn,St=ln,$n=un,Ke=gn,bn=fn,yt=t.forwardRef(({className:e,children:n,...o},r)=>l.jsxs(gt,{ref:r,className:A("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...o,children:[n,l.jsx(pn,{asChild:!0,children:l.jsx(at,{className:"h-4 w-4 opacity-50"})})]}));yt.displayName=gt.displayName;const Ct=t.forwardRef(({className:e,...n},o)=>l.jsx(bt,{ref:o,className:A("flex cursor-default items-center justify-center py-1",e),...n,children:l.jsx(Eo,{className:"h-4 w-4"})}));Ct.displayName=bt.displayName;const Et=t.forwardRef(({className:e,...n},o)=>l.jsx(wt,{ref:o,className:A("flex cursor-default items-center justify-center py-1",e),...n,children:l.jsx(at,{className:"h-4 w-4"})}));Et.displayName=wt.displayName;const Pt=t.forwardRef(({className:e,children:n,position:o="popper",...r},a)=>l.jsx(mn,{children:l.jsxs(vt,{ref:a,className:A("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:o,...r,children:[l.jsx(Ct,{}),l.jsx(hn,{className:A("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),l.jsx(Et,{})]})}));Pt.displayName=vt.displayName;const Te=t.forwardRef(({className:e,...n},o)=>l.jsx(xt,{ref:o,className:A("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));Te.displayName=xt.displayName;const se=t.forwardRef(({className:e,children:n,...o},r)=>l.jsxs($t,{ref:r,className:A("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...o,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(xn,{children:l.jsx(co,{className:"h-4 w-4"})})}),l.jsx(vn,{children:n})]}));se.displayName=$t.displayName;const wn=t.forwardRef(({className:e,...n},o)=>l.jsx(St,{ref:o,className:A("-mx-1 my-1 h-px bg-muted",e),...n}));wn.displayName=St.displayName;const It=["PageUp","PageDown"],_t=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Rt={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},de="Slider",[Ne,Sn,yn]=nt(de),[Tt,Xn]=We(de,[yn]),[Cn,we]=Tt(de),En=t.forwardRef((e,n)=>{const{name:o,min:r=0,max:a=100,step:c=1,orientation:i="horizontal",disabled:s=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:p,onValueChange:u=()=>{},onValueCommit:x=()=>{},inverted:w=!1,...m}=e,[v,S]=t.useState(null),$=k(n,P=>S(P)),h=t.useRef(new Set),g=t.useRef(0),M=i==="horizontal",D=v?!!v.closest("form"):!0,J=M?Pn:In,[E=[],V]=Pe({prop:p,defaultProp:f,onChange:P=>{var C;(C=[...h.current][g.current])===null||C===void 0||C.focus(),u(P)}}),G=t.useRef(E);function ee(P){const C=kn(E,P);L(P,C)}function X(P){L(P,g.current)}function K(){const P=G.current[g.current];E[g.current]!==P&&x(E)}function L(P,C,{commit:O}={commit:!1}){const F=Bn(c),q=Hn(Math.round((P-r)/c)*c+r,F),B=ve(q,[r,a]);V((Y=[])=>{const z=Mn(Y,B,C);if(Ln(z,d*c)){g.current=z.indexOf(B);const re=String(z)!==String(Y);return re&&O&&x(z),re?z:Y}else return Y})}return t.createElement(Cn,{scope:e.__scopeSlider,disabled:s,min:r,max:a,valueIndexToChangeRef:g,thumbs:h.current,values:E,orientation:i},t.createElement(Ne.Provider,{scope:e.__scopeSlider},t.createElement(Ne.Slot,{scope:e.__scopeSlider},t.createElement(J,y({"aria-disabled":s,"data-disabled":s?"":void 0},m,{ref:$,onPointerDown:N(m.onPointerDown,()=>{s||(G.current=E)}),min:r,max:a,inverted:w,onSlideStart:s?void 0:ee,onSlideMove:s?void 0:X,onSlideEnd:s?void 0:K,onHomeKeyDown:()=>!s&&L(r,0,{commit:!0}),onEndKeyDown:()=>!s&&L(a,E.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:C})=>{if(!s){const q=It.includes(P.key)||P.shiftKey&&_t.includes(P.key)?10:1,B=g.current,Y=E[B],z=c*q*C;L(Y+z,B,{commit:!0})}}})))),D&&E.map((P,C)=>t.createElement(jn,{key:C,name:o?o+(E.length>1?"[]":""):void 0,value:P})))}),[Nt,Dt]=Tt(de,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Pn=t.forwardRef((e,n)=>{const{min:o,max:r,dir:a,inverted:c,onSlideStart:i,onSlideMove:s,onSlideEnd:d,onStepKeyDown:f,...p}=e,[u,x]=t.useState(null),w=k(n,g=>x(g)),m=t.useRef(),v=rt(a),S=v==="ltr",$=S&&!c||!S&&c;function h(g){const M=m.current||u.getBoundingClientRect(),D=[0,M.width],E=Ae(D,$?[o,r]:[r,o]);return m.current=M,E(g-M.left)}return t.createElement(Nt,{scope:e.__scopeSlider,startEdge:$?"left":"right",endEdge:$?"right":"left",direction:$?1:-1,size:"width"},t.createElement(jt,y({dir:v,"data-orientation":"horizontal"},p,{ref:w,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:g=>{const M=h(g.clientX);i==null||i(M)},onSlideMove:g=>{const M=h(g.clientX);s==null||s(M)},onSlideEnd:()=>{m.current=void 0,d==null||d()},onStepKeyDown:g=>{const D=Rt[$?"from-left":"from-right"].includes(g.key);f==null||f({event:g,direction:D?-1:1})}})))}),In=t.forwardRef((e,n)=>{const{min:o,max:r,inverted:a,onSlideStart:c,onSlideMove:i,onSlideEnd:s,onStepKeyDown:d,...f}=e,p=t.useRef(null),u=k(n,p),x=t.useRef(),w=!a;function m(v){const S=x.current||p.current.getBoundingClientRect(),$=[0,S.height],g=Ae($,w?[r,o]:[o,r]);return x.current=S,g(v-S.top)}return t.createElement(Nt,{scope:e.__scopeSlider,startEdge:w?"bottom":"top",endEdge:w?"top":"bottom",size:"height",direction:w?1:-1},t.createElement(jt,y({"data-orientation":"vertical"},f,{ref:u,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const S=m(v.clientY);c==null||c(S)},onSlideMove:v=>{const S=m(v.clientY);i==null||i(S)},onSlideEnd:()=>{x.current=void 0,s==null||s()},onStepKeyDown:v=>{const $=Rt[w?"from-bottom":"from-top"].includes(v.key);d==null||d({event:v,direction:$?-1:1})}})))}),jt=t.forwardRef((e,n)=>{const{__scopeSlider:o,onSlideStart:r,onSlideMove:a,onSlideEnd:c,onHomeKeyDown:i,onEndKeyDown:s,onStepKeyDown:d,...f}=e,p=we(de,o);return t.createElement(j.span,y({},f,{ref:n,onKeyDown:N(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(s(u),u.preventDefault()):It.concat(_t).includes(u.key)&&(d(u),u.preventDefault())}),onPointerDown:N(e.onPointerDown,u=>{const x=u.target;x.setPointerCapture(u.pointerId),u.preventDefault(),p.thumbs.has(x)?x.focus():r(u)}),onPointerMove:N(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&a(u)}),onPointerUp:N(e.onPointerUp,u=>{const x=u.target;x.hasPointerCapture(u.pointerId)&&(x.releasePointerCapture(u.pointerId),c(u))})}))}),_n="SliderTrack",Rn=t.forwardRef((e,n)=>{const{__scopeSlider:o,...r}=e,a=we(_n,o);return t.createElement(j.span,y({"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation},r,{ref:n}))}),Fe="SliderRange",Tn=t.forwardRef((e,n)=>{const{__scopeSlider:o,...r}=e,a=we(Fe,o),c=Dt(Fe,o),i=t.useRef(null),s=k(n,i),d=a.values.length,f=a.values.map(x=>Mt(x,a.min,a.max)),p=d>1?Math.min(...f):0,u=100-Math.max(...f);return t.createElement(j.span,y({"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0},r,{ref:s,style:{...e.style,[c.startEdge]:p+"%",[c.endEdge]:u+"%"}}))}),ze="SliderThumb",Nn=t.forwardRef((e,n)=>{const o=Sn(e.__scopeSlider),[r,a]=t.useState(null),c=k(n,s=>a(s)),i=t.useMemo(()=>r?o().findIndex(s=>s.ref.current===r):-1,[o,r]);return t.createElement(Dn,y({},e,{ref:c,index:i}))}),Dn=t.forwardRef((e,n)=>{const{__scopeSlider:o,index:r,...a}=e,c=we(ze,o),i=Dt(ze,o),[s,d]=t.useState(null),f=k(n,S=>d(S)),p=Wt(s),u=c.values[r],x=u===void 0?0:Mt(u,c.min,c.max),w=An(r,c.values.length),m=p==null?void 0:p[i.size],v=m?On(m,x,i.direction):0;return t.useEffect(()=>{if(s)return c.thumbs.add(s),()=>{c.thumbs.delete(s)}},[s,c.thumbs]),t.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${x}% + ${v}px)`}},t.createElement(Ne.ItemSlot,{scope:e.__scopeSlider},t.createElement(j.span,y({role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":c.min,"aria-valuenow":u,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0},a,{ref:f,style:u===void 0?{display:"none"}:e.style,onFocus:N(e.onFocus,()=>{c.valueIndexToChangeRef.current=r})}))))}),jn=e=>{const{value:n,...o}=e,r=t.useRef(null),a=lt(n);return t.useEffect(()=>{const c=r.current,i=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(i,"value").set;if(a!==n&&d){const f=new Event("input",{bubbles:!0});d.call(c,n),c.dispatchEvent(f)}},[a,n]),t.createElement("input",y({style:{display:"none"}},o,{ref:r,defaultValue:n}))};function Mn(e=[],n,o){const r=[...e];return r[o]=n,r.sort((a,c)=>a-c)}function Mt(e,n,o){const c=100/(o-n)*(e-n);return ve(c,[0,100])}function An(e,n){return n>2?`Value ${e+1} of ${n}`:n===2?["Minimum","Maximum"][e]:void 0}function kn(e,n){if(e.length===1)return 0;const o=e.map(a=>Math.abs(a-n)),r=Math.min(...o);return o.indexOf(r)}function On(e,n,o){const r=e/2,c=Ae([0,50],[0,r]);return(r-c(n)*o)*o}function Vn(e){return e.slice(0,-1).map((n,o)=>e[o+1]-n)}function Ln(e,n){if(n>0){const o=Vn(e);return Math.min(...o)>=n}return!0}function Ae(e,n){return o=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const r=(n[1]-n[0])/(e[1]-e[0]);return n[0]+r*(o-e[0])}}function Bn(e){return(String(e).split(".")[1]||"").length}function Hn(e,n){const o=Math.pow(10,n);return Math.round(e*o)/o}const At=En,Kn=Rn,Fn=Tn,zn=Nn,kt=t.forwardRef(({className:e,...n},o)=>l.jsxs(At,{ref:o,className:A("relative flex w-full touch-none select-none items-center",e),...n,children:[l.jsx(Kn,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(Fn,{className:"absolute h-full bg-primary"})}),l.jsx(zn,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));kt.displayName=At.displayName;function Un({trigger:e}){const{isPending:n,isError:o,error:r,data:a}=Gt({queryKey:["ollama-models"],queryFn:_o}),[c,i]=me(fo),[s,d]=me(po),[f,p]=me(mo);return t.useEffect(()=>{r&&console.error("Error fetching ollama models",r)},[r]),l.jsxs(Qe,{children:[l.jsx(lo,{asChild:!0,children:e}),l.jsxs(Je,{className:"max-w-xl",children:[l.jsxs(et,{children:[l.jsx(tt,{children:"Settings"}),l.jsx(Ie,{children:"Make changes to your settings or logout"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(he,{className:"text-right",htmlFor:"model",children:"Model"}),l.jsxs($n,{value:c,onValueChange:u=>{i(u)},children:[l.jsx(yt,{className:"min-w-[200px]",children:l.jsx(bn,{placeholder:"Switch models"})}),l.jsxs(Pt,{children:[l.jsxs(Ke,{children:[l.jsx(Te,{children:"OpenAI"}),l.jsx(se,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),l.jsx(se,{value:"gpt-4-turbo-2024-04-09",children:"GPT-4 Turbo"})]}),l.jsxs(Ke,{children:[n||a&&a.length>0?l.jsx(Te,{children:"Ollama"}):void 0,!!n&&l.jsx(se,{disabled:!0,value:"loading",children:"Loading..."}),!!o&&l.jsx(se,{disabled:!0,value:"error",children:"Unable to load Ollama models, see console"}),!!a&&a.map(u=>l.jsx(se,{value:`ollama/${u.name}`,children:u.name},u.digest))]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(he,{className:"text-right",htmlFor:"prompt",children:"System Prompt"}),l.jsx(io,{className:"col-span-3",id:"prompt",onChange:u=>d(u.target.value),value:s})]}),l.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[l.jsx(he,{className:"text-right",htmlFor:"temperature",children:"Temperature"}),l.jsx(kt,{min:0,max:1,step:.05,onValueChange:u=>p(u[0]),value:[f],className:"col-span-3",id:"temperature"})]}),l.jsx("div",{className:"mt-3 grid grid-cols-4 items-center gap-4",children:l.jsxs("div",{className:"col-start-4 flex justify-end",children:[l.jsx(Q,{variant:"secondary",onClick:()=>{fetch("/v1/session",{method:"DELETE"}).then(()=>document.location.reload()).catch(u=>console.error(u))},children:"Logout"}),l.jsx(uo,{asChild:!0,children:l.jsx(Q,{type:"button",className:"ml-2",children:"Update"})})]})})]})]})]})}function Zn(){const e=bo(`(min-width: ${yo}px)`),[n,o]=t.useState(!e),r=Ue(),[a]=me(Ze),c=qt(),i=Xe(ge({id:c.id??"new"})),s=ho();t.useEffect(()=>{c.id===void 0&&(console.log("redirecting"),r("/ai/new"))},[c.id,r]),t.useEffect(()=>{o(!e)},[e,o]);const d=new Date,f=new Date(d.getTime()-24*60*60*1e3),p=new Date(d.getTime()-7*24*60*60*1e3);let u="";return l.jsxs("div",{className:"mobile-safe-container flex overflow-hidden bg-secondary",children:[l.jsx(Co,{title:i.name??"Create a new Elemint"}),l.jsx(Io,{}),l.jsxs("div",{className:A(`${n?"w-0":"w-[300px]"} flex h-screen flex-none flex-col border-r border-input bg-zinc-300 transition-all duration-300 ease-in-out dark:bg-zinc-900`,!e&&!n&&"absolute z-50"),children:[l.jsxs("div",{className:"flex items-center pb-2 pl-4",children:[l.jsx("h2",{className:`${n?"opacity-0":"opacity-100"} text-sm text-secondary-foreground transition-all duration-300`,children:"History"}),l.jsx(Q,{asChild:!0,size:"icon",variant:"ghost",className:"ml-auto inline-flex p-2 hover:bg-inherit",children:l.jsx("a",{"aria-label":"GitHub",rel:"noreferrer",target:"_blank",href:"https://github.com/wandb/openui",children:l.jsx(ot,{className:"h-5 w-5"})})}),l.jsx(Un,{trigger:l.jsx(Q,{className:A("inline-flex p-2 hover:scale-110 hover:bg-inherit",!n&&"-ml-2	"),variant:"ghost",size:"icon",children:l.jsx(go,{className:"h-5 w-5"})})}),l.jsx(Q,{onClick:()=>{r("/ai/new"),e||o(!0)},className:A("inline-flex p-2 hover:scale-110 hover:bg-inherit",!n&&"-ml-2"),variant:"ghost",size:"icon",children:l.jsx(vo,{className:"inline-block h-5 w-5"})})]}),l.jsx("div",{className:"flex h-full max-h-full flex-col items-start justify-start overflow-y-auto overflow-x-hidden p-3",children:a.map(x=>{let w;const m=s.get(ge({id:x}));return m.createdAt&&m.createdAt>=f&&(u===""||u==="Today")?(w=u==="Today"?void 0:"Today",u="Today"):m.createdAt&&m.createdAt>=p&&u==="Today"?(w="Previous 7 days",u=w):u==="Previous 7 days"&&m.createdAt&&m.createdAt<=p?(w="Previous 30 days",u=w):w=void 0,l.jsx(st,{id:x,label:w,active:c.id===x,collapsed:n},x)})}),l.jsx(Q,{onClick:()=>{o(!n)},className:A("ml-auto inline-flex p-2 hover:scale-110 hover:bg-secondary",n&&"absolute -left-2 top-[90px] z-50 bg-secondary",!e&&"mb-20"),variant:"ghost",size:"icon",children:n?l.jsx(xo,{className:"inline-block h-4 w-4"}):l.jsx($o,{className:"inline-block h-4 w-4"})})]}),l.jsx("div",{className:"mobile-safe-container relative flex-1 overflow-hidden",children:l.jsx(wo,{renderError:x=>l.jsx(So,{error:x}),children:l.jsx(Yt,{})})})]})}export{Zn as default};
